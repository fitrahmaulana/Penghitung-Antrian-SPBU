<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Antrian BBM Aceh</title>
    <style>
        body { font-family: 'Segoe UI', Roboto, sans-serif; background-color: #0d1117; color: #c9d1d9; padding: 10px; margin: 0; }
        .container { max-width: 100%; background-color: #161b22; padding: 20px; border-radius: 16px; border: 1px solid #30363d; box-shadow: 0 4px 20px rgba(0,0,0,0.4); }
        
        h3 { text-align: center; color: #58a6ff; margin-top: 0; text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 5px; }
        .dev-name { text-align: center; font-size: 0.8em; color: #8b949e; margin-bottom: 25px; letter-spacing: 0.5px; }
        .dev-name span { color: #238636; font-weight: bold; border-bottom: 1px dashed #238636; }

        label { display: block; margin-top: 15px; color: #8b949e; font-size: 0.85em; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; }
        
        /* Grid System */
        .row { display: flex; gap: 10px; }
        .col { flex: 1; }

        /* Inputs */
        .input-group { position: relative; width: 100%; margin-top: 8px; }
        
        select, input { 
            width: 100%; padding: 14px; padding-right: 40px;
            background: #0d1117; border: 1px solid #30363d; 
            color: #fff; border-radius: 8px; font-size: 16px; box-sizing: border-box; transition: all 0.2s;
        }
        input:focus, select:focus { border-color: #58a6ff; outline: none; background: #1c2128; }

        .suffix {
            position: absolute; right: 15px; top: 50%; transform: translateY(-50%);
            color: #8b949e; font-size: 0.85em; font-weight: 600; pointer-events: none;
        }

        /* Button */
        button { 
            width: 100%; padding: 16px; margin-top: 30px; 
            background: linear-gradient(135deg, #1f6feb, #238636); 
            border: none; border-radius: 10px; 
            color: white; font-weight: 800; font-size: 16px; cursor: pointer;
            box-shadow: 0 4px 15px rgba(31, 111, 235, 0.3);
        }
        button:active { transform: scale(0.97); }

        /* Result Panel */
        .result-panel { margin-top: 25px; display: none; animation: slideUp 0.4s ease-out; }
        .time-card {
            text-align: center; padding: 20px;
            background: #21262d; border-radius: 12px;
            margin-bottom: 20px; border: 1px solid #30363d;
        }
        .big-time { font-size: 2.5em; font-weight: 800; display: block; margin: 5px 0; color: #fff; line-height: 1; }
        .sub-time { color: #58a6ff; font-size: 0.9em; font-weight: 600; }

        /* Strategy List */
        .strat-card {
            background: #1c2128; border-radius: 12px; padding: 0; overflow: hidden;
            border-left: 6px solid #30363d;
        }
        .strat-header {
            background: rgba(255,255,255,0.05); padding: 12px 20px;
            font-weight: bold; font-size: 0.9em; text-transform: uppercase; letter-spacing: 1px;
        }
        ul { margin: 0; padding: 15px 20px 15px 35px; }
        li { margin-bottom: 10px; line-height: 1.5; color: #e6edf3; }

        /* Colors */
        .safe { border-left-color: #238636; } .safe .strat-header { color: #238636; }
        .warning { border-left-color: #d29922; } .warning .strat-header { color: #d29922; }
        .danger { border-left-color: #f85149; } .danger .strat-header { color: #f85149; }

        .credit-footer { text-align: center; margin-top: 25px; font-size: 0.7em; color: #484f58; }

        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div class="container">
    <h3>‚õΩ Kalkulator Antrian BBM Aceh</h3>
    <div class="dev-name">Tools by <span>Fitrah Maulana</span></div>

    <label>1. Jenis Motor Anda</label>
    <div class="input-group">
        <select id="tipeMotor">
            <option value="4">Matic Kecil (Beat, Mio) - 4L</option>
            <option value="5.5" selected>Matic Sedang (Aerox, Vario) - 5.5L</option>
            <option value="7">Matic Besar (Nmax, PCX) - 7L</option>
            <option value="4">Bebek (Supra, Revo) - 4L</option>
            <option value="11">Sport (Vixion, CBR) - 11L</option>
        </select>
    </div>

    <label>2. Panjang Antrian (Pilih Salah Satu)</label>
    <div class="row">
        <div class="col">
            <div class="input-group">
                <input type="number" id="inputMeter" placeholder="0" oninput="syncToMotor()">
                <span class="suffix">m</span>
            </div>
        </div>
        <div class="col">
            <div class="input-group">
                <input type="number" id="inputMotor" placeholder="0" oninput="syncToMeter()">
                <span class="suffix">motor</span>
            </div>
        </div>
    </div>

    <label>3. Kecepatan Pelayanan (Kondisi Antrian)</label>
    
    <div class="input-group" style="margin-bottom: 8px;">
        <select id="presetKondisi" onchange="applyPreset()">
            <option value="1.5" selected>A. Lancar (1.5 menit)</option>
            <option value="2.5">B. Sedikit lama(2.5 menit)</option>
            <option value="5.0">C. Banyak Jerigen (5.0 menit)</option>
            <option value="custom" hidden>D. Custom (Manual Input)</option>
        </select>
    </div>
    
    <div class="input-group">
        <input type="number" id="waktuPerMotor" value="2.5" step="0.1" oninput="triggerCustom()">
        <span class="suffix">menit/mtr</span>
    </div>

    <label>4. Konfigurasi Petugas</label>
    <div class="input-group">
        <select id="config">
            <option value="1">1 Petugas = 1 Jalur (Normal)</option>
            <option value="2">1 Petugas = 2 Jalur (Gantian)</option>
        </select>
    </div>

    <button onclick="hitung()">ANALISA SITUASI</button>

    <div id="panel" class="result-panel">
        <div class="time-card">
            <span style="font-size:0.8em; color:#8b949e; letter-spacing:1px;">ESTIMASI WAKTU TUNGGU</span>
            <span id="durasi" class="big-time">0j 0m</span>
            <span id="jamKelar" class="sub-time">Selesai: --:-- WIB</span>
        </div>

        <div id="stratCard" class="strat-card">
            <div id="stratHeader" class="strat-header">REKOMENDASI TAKTIS</div>
            <ul id="stratList"></ul>
        </div>
    </div>
    
    <div class="credit-footer">
        ¬© 2025 Developed by Fitrah Maulana
    </div>
</div>

<script>
    // SYNC METER <-> MOTOR
    function syncToMotor() {
        let meter = parseFloat(document.getElementById('inputMeter').value);
        if (!isNaN(meter)) {
            document.getElementById('inputMotor').value = Math.ceil(meter / 2);
        } else {
            document.getElementById('inputMotor').value = "";
        }
    }

    function syncToMeter() {
        let motor = parseFloat(document.getElementById('inputMotor').value);
        if (!isNaN(motor)) {
            document.getElementById('inputMeter').value = motor * 2;
        } else {
            document.getElementById('inputMeter').value = "";
        }
    }

    // LOGIKA CUSTOM INPUT
    function applyPreset() {
        let select = document.getElementById('presetKondisi');
        let input = document.getElementById('waktuPerMotor');
        
        if (select.value !== 'custom') {
            input.value = select.value;
        }
    }

    function triggerCustom() {
        // Saat user ketik angka manual, ubah dropdown ke 'Custom'
        let select = document.getElementById('presetKondisi');
        select.value = 'custom';
    }

    // HITUNG UTAMA
    function hitung() {
        let tankSize = parseFloat(document.getElementById('tipeMotor').value);
        let jumlahMotor = parseFloat(document.getElementById('inputMotor').value);
        let configVal = parseFloat(document.getElementById('config').value);
        let speedVal = parseFloat(document.getElementById('waktuPerMotor').value);

        if (!jumlahMotor) { alert("Isi panjang antrian (meter) atau jumlah motor!"); return; }

        let totalMenit = jumlahMotor * speedVal * configVal;

        // HITUNG UANG (Pembulatan 5000)
        let biayaPertalite = Math.ceil((tankSize * 10000)/5000)*5000;
        let biayaPertamax = Math.ceil((tankSize * 13500)/5000)*5000;

        // WAKTU
        let jam = Math.floor(totalMenit / 60);
        let menit = Math.floor(totalMenit % 60);

        let now = new Date();
        let finishTime = new Date(now.getTime() + totalMenit * 60000);
        let finishStr = finishTime.getHours().toString().padStart(2, '0') + ":" + 
                        finishTime.getMinutes().toString().padStart(2, '0');

        // TAMPILKAN
        document.getElementById('durasi').innerText = `${jam} Jam ${menit} Menit`;
        document.getElementById('jamKelar').innerText = `Giliran Anda: Pukul ${finishStr} WIB`;

        let panel = document.getElementById('panel');
        let stratCard = document.getElementById('stratCard');
        let stratHeader = document.getElementById('stratHeader');
        let stratList = document.getElementById('stratList');
        
        panel.style.display = "block";
        stratCard.classList.remove('safe', 'warning', 'danger');

        // LOGIKA STRATEGI
        let htmlList = "";

        // Strategi Cash
        htmlList += `<li style="border-bottom:1px dashed #30363d; padding-bottom:10px; margin-bottom:10px;">
            üí∞ <strong>Siapkan Cash (Pas):</strong><br>
            <span style="color:#238636">Pertalite: Rp ${biayaPertalite.toLocaleString()}</span><br>
            <span style="color:#58a6ff">Pertamax: Rp ${biayaPertamax.toLocaleString()}</span>
        </li>`;

        if (totalMenit <= 45) {
            stratCard.classList.add('safe');
            stratHeader.innerText = "‚úÖ STATUS: SANGAT AMAN";
            document.getElementById('durasi').style.color = "#238636";
            
            htmlList += `<li><strong>Strategi:</strong> Tetap di motor. Waktu tunggu singkat.</li>`;
            htmlList += `<li>Jangan main HP saat sudah dekat nozzle (bisa ditegur).</li>`;

        } else if (totalMenit <= 120) {
            stratCard.classList.add('warning');
            stratHeader.innerText = "‚ö†Ô∏è STATUS: SIAGA (BERTAHAN)";
            document.getElementById('durasi').style.color = "#d29922";
            
            htmlList += `<li><strong>Strategi:</strong> Matikan mesin. Standar samping.</li>`;
            htmlList += `<li>Manfaatkan waktu: Bisa sambil baca jurnal/skripsi di HP.</li>`;
            htmlList += `<li>Waspada penyusup dari samping kiri. Rapatkan barisan.</li>`;

        } else {
            stratCard.classList.add('danger');
            stratHeader.innerText = "‚õî STATUS: BAHAYA (PULANG)";
            document.getElementById('durasi').style.color = "#f85149";
            
            htmlList += `<li><strong>Strategi:</strong> Batalkan misi. Terlalu berisiko.</li>`;
            htmlList += `<li>Cari penjual eceran terdekat untuk isi 1 liter saja (darurat).</li>`;
            htmlList += `<li>Datang kembali besok saat <strong>Subuh (05:30)</strong>.</li>`;
        }

        // Tambahan
        if (tankSize === 5.5) htmlList += `<li>üí° <strong>Aerox Advantage:</strong> Anda tidak perlu turun motor. Lebih sigap maju.</li>`;
        if (configVal === 2) htmlList += `<li style="color:#f85149; font-weight:bold;">‚ö†Ô∏è Petugas Double Job (Kiri-Kanan) memperlambat antrian 2x lipat!</li>`;

        stratList.innerHTML = htmlList;
    }
</script>

</body>
</html>
